<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OKV SOUND LAB - Discover Your Voice. Find Your Sound.</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base Styles */
        :root {
            --color-primary: #007bff; /* Bright Blue */
            --color-secondary: #0056b3; /* Darker Blue */
            --color-accent: #28a745; /* Green for success/buttons */
            --color-text: #333;
            --color-bg-light: #f4f7fa;
            --color-bg-white: #ffffff;
            --color-gradient-start: #e0f7ff; /* Very Light Blue */
            --color-gradient-end: #ffffff; /* White */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-gradient-start) 0%, var(--color-gradient-end) 100%);
            color: var(--color-text);
            min-height: 100vh;
            line-height: 1.6;
            padding: 20px 10px; /* Added horizontal padding for smaller screens */
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--color-bg-white);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        /* Header & Intro */
        header h1 {
            font-size: 2.5em;
            font-weight: 700;
            color: var(--color-secondary);
            margin-bottom: 5px;
            letter-spacing: -0.5px;
            position: relative;
            display: inline-block;
        }

        header h1::after {
            content: '🎵';
            position: absolute;
            right: -35px;
            top: 0;
            font-size: 0.8em;
        }

        header h3 {
            font-size: 1.2em;
            font-weight: 400;
            color: var(--color-primary);
            margin-bottom: 20px;
        }

        blockquote {
            background-color: var(--color-bg-light);
            border-left: 5px solid var(--color-primary);
            padding: 15px 20px;
            margin-bottom: 30px;
            font-style: italic;
            color: #555;
            border-radius: 4px;
        }

        /* Tabs Navigation (Responsive Scroll) */
        .tabs-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--color-bg-light);
            overflow-x: auto; /* Enables horizontal scrolling for tabs on mobile */
            padding-bottom: 5px;
            -webkit-overflow-scrolling: touch; /* Improves scrolling on iOS */
        }

        .tab-button {
            padding: 10px 15px;
            border: none;
            background-color: transparent;
            color: var(--color-text);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            white-space: nowrap; /* Ensures buttons stay on one line */
        }

        .tab-button:hover {
            color: var(--color-primary);
        }

        .tab-button.active {
            color: var(--color-primary);
            border-bottom: 3px solid var(--color-primary);
        }

        /* Quiz Section Styling */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .quiz-form h4 {
            font-size: 1.4em;
            color: var(--color-secondary);
            margin-bottom: 20px;
        }

        .question-group {
            background-color: var(--color-bg-light);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--color-primary);
        }

        .question-group label {
            display: block;
            margin-bottom: 15px;
            font-weight: 600;
            color: var(--color-text);
        }

        .options-list {
            display: flex;
            flex-wrap: wrap; /* Allows options to wrap on smaller screens */
            gap: 10px;
        }

        .options-list label {
            background-color: var(--color-bg-white);
            border: 1px solid #ddd;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
            font-weight: 400;
            margin-bottom: 0 !important;
            display: inline-block;
            flex-grow: 1; /* Makes buttons try to fill space more equally */
            text-align: center;
        }

        .options-list input[type="radio"] {
            display: none;
        }

        .options-list input[type="radio"]:checked + label {
            background-color: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
            box-shadow: 0 2px 5px rgba(0, 123, 255, 0.3);
        }

        /* Submit Button */
        .submit-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--color-accent);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            margin-top: 20px;
        }

        /* Result Section */
        .result-container {
            padding: 30px;
            border: 2px solid var(--color-primary);
            border-radius: 12px;
            margin-top: 30px;
            background-color: var(--color-bg-white);
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-container h4 {
            font-size: 1.8em;
            color: var(--color-primary);
            margin-bottom: 15px;
            border-bottom: 2px solid var(--color-bg-light);
            padding-bottom: 10px;
        }

        .result-detail {
            margin-bottom: 15px;
        }

        /* Detail responsiveness: ensure strong element doesn't take up too much space on small screens */
        .result-detail strong {
            display: inline-block;
            min-width: 120px;
            color: var(--color-secondary);
        }

        .result-tip, .result-learning {
            background-color: #fff3cd;
            color: #856404;
            padding: 10px;
            border-radius: 6px;
            margin: 15px 0;
            border-left: 5px solid #ffc107;
        }

        .result-buttons {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap; /* Allows buttons to stack on mobile */
            gap: 15px;
            margin-top: 25px;
        }

        .result-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, box-shadow 0.3s;
            flex-grow: 1; /* Makes buttons fill the width nicely when stacked */
            min-width: 200px; /* Ensures buttons are not too small */
            text-align: center;
        }

        /* Ad Space */
        .ad-space {
            margin: 30px 0;
            padding: 20px;
            border: 2px dashed #ccc;
            background-color: #f7f7f7;
            text-align: center;
            font-style: italic;
            color: #777;
            border-radius: 8px;
            font-size: 0.9em;
        }

        .ad-large {
            height: 150px;
            line-height: 110px;
        }

        .ad-small {
            height: 80px;
            line-height: 40px;
            margin-top: 20px;
        }

        /* Utility/Other Sections */
        .section-box table {
            width: 100%;
            display: block; /* Allows table to scroll horizontally if needed */
            overflow-x: auto;
        }
        
        /* RESPONSIVENESS (Media Queries) */
        
        /* Tablet & Smaller Desktop */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            header h1 {
                font-size: 2em;
            }

            header h3 {
                font-size: 1em;
            }
            
            /* Make button options stack more consistently on small screens */
            .options-list label {
                flex-basis: calc(50% - 10px); /* Two columns */
                font-size: 0.95em;
            }
            
            /* Force result buttons to stack fully on top of each other */
            .result-buttons {
                flex-direction: column;
            }

            .result-btn {
                min-width: 100%;
                font-size: 0.95em;
            }
            
            .ad-large {
                height: 120px;
                line-height: 80px;
            }
        }

        /* Mobile Phone */
        @media (max-width: 480px) {
            body {
                padding: 10px 5px;
            }
            
            .container {
                border-radius: 0; /* Full screen experience */
                box-shadow: none;
                padding: 10px;
            }
            
            header h1 {
                font-size: 1.8em;
            }

            header h1::after {
                right: -25px;
            }
            
            /* Force question options to be one per line for easy tapping */
            .options-list label {
                flex-basis: 100%; /* One column */
            }

            .result-container h4 {
                font-size: 1.5em;
            }

            .result-detail strong {
                min-width: 90px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>OKV SOUND LAB</h1>
        <h3>Discover Your Voice. Find Your Sound. Grow Your Gift.</h3>
        <blockquote>
            “Helping singers and instrumentalists discover their musical strength, improve their skill, and get personalized training direction.”
        </blockquote>
    </header>

    <div class="ad-space ad-large">
        [ AD SPACE 1: Premium Banner Ad for Music Gear or Course ]
    </div>

    <div class="tabs-nav">
        <button class="tab-button active" data-tab="vocal">1️⃣ Vocal Finder</button>
        <button class="tab-button" data-tab="instrument">2️⃣ Instrument Finder</button>
        <button class="tab-button" data-tab="beginner">3️⃣ Beginner’s Discovery</button>
        <button class="tab-button" data-tab="training">4️⃣ Training Hub</button>
        <button class="tab-button" data-tab="growth">5️⃣ Growth & Mentorship</button>
    </div>

    <div id="vocal" class="tab-content active">
        <form class="quiz-form" id="vocal-quiz">
            <h4>🧠 Vocal Finder Quiz: Understand Your Voice</h4>

            <div class="question-group">
                <label>1. Are you male or female?</label>
                <div class="options-list">
                    <input type="radio" id="v_q1_m" name="v_q1" value="male" required><label for="v_q1_m">Male</label>
                    <input type="radio" id="v_q1_f" name="v_q1" value="female"><label for="v_q1_f">Female</label>
                </div>
            </div>

            <div class="question-group">
                <label>2. How high or low can your voice comfortably go?</label>
                <div class="options-list">
                    <input type="radio" id="v_q2_high" name="v_q2" value="high" required><label for="v_q2_high">Very high 🎶</label>
                    <input type="radio" id="v_q2_med" name="v_q2" value="medium"><label for="v_q2_med">Medium / balanced 🎵</label>
                    <input type="radio" id="v_q2_low" name="v_q2" value="low"><label for="v_q2_low">Deep / low 🎼</label>
                </div>
            </div>

            <div class="question-group">
                <label>3. What kind of songs do you love to sing?</label>
                <div class="options-list">
                    <input type="radio" id="v_q3_worship" name="v_q3" value="worship" required><label for="v_q3_worship">Worship / Gospel</label>
                    <input type="radio" id="v_q3_pop" name="v_q3" value="pop"><label for="v_q3_pop">Pop / Afrobeats</label>
                    <input type="radio" id="v_q3_classical" name="v_q3" value="classical"><label for="v_q3_classical">Classical / Choir</label>
                    <input type="radio" id="v_q3_soul" name="v_q3" value="soul"><label for="v_q3_soul">Soul / R&B</label>
                </div>
            </div>

            <div class="question-group">
                <label>4. Can you hold a note for long?</label>
                <div class="options-list">
                    <input type="radio" id="v_q4_yes" name="v_q4" value="yes" required><label for="v_q4_yes">Yes</label>
                    <input type="radio" id="v_q4_bit" name="v_q4" value="a_bit"><label for="v_q4_bit">A bit</label>
                    <input type="radio" id="v_q4_not" name="v_q4" value="not_sure"><label for="v_q4_not">Not sure yet</label>
                </div>
            </div>

            <div class="question-group">
                <label>5. Do you sing better alone or in a group?</label>
                <div class="options-list">
                    <input type="radio" id="v_q5_alone" name="v_q5" value="alone" required><label for="v_q5_alone">Alone (Solo)</label>
                    <input type="radio" id="v_q5_group" name="v_q5" value="group"><label for="v_q5_group">In a group (Harmony)</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">Discover My Vocal Sound! 🎤</button>
        </form>

        <div id="vocal-result" class="result-container">
            </div>

        <div class="ad-space ad-small">
            [ AD SPACE 2: Small Ad for Vocal Lessons App ]
        </div>
    </div>

    <div id="instrument" class="tab-content">
        <form class="quiz-form" id="instrument-quiz">
            <h4>🧠 Instrument Finder Quiz: Choose Your Perfect Match</h4>

            <div class="question-group">
                <label>1. Do you prefer rhythm, melody, or harmony?</label>
                <div class="options-list">
                    <input type="radio" id="i_q1_r" name="i_q1" value="rhythm" required><label for="i_q1_r">Rhythm (Beat/Timing)</label>
                    <input type="radio" id="i_q1_m" name="i_q1" value="melody"><label for="i_q1_m">Melody (The main tune)</label>
                    <input type="radio" id="i_q1_h" name="i_q1" value="harmony"><label for="i_q1_h">Harmony (Chords/Support)</label>
                </div>
            </div>

            <div class="question-group">
                <label>2. What do you enjoy most: leading, supporting, or blending sounds?</label>
                <div class="options-list">
                    <input type="radio" id="i_q2_l" name="i_q2" value="leading" required><label for="i_q2_l">Leading (Standing out)</label>
                    <input type="radio" id="i_q2_s" name="i_q2" value="supporting"><label for="i_q2_s">Supporting (Foundation)</label>
                    <input type="radio" id="i_q2_b" name="i_q2" value="blending"><label for="i_q2_b">Blending (Part of the whole)</label>
                </div>
            </div>

            <div class="question-group">
                <label>3. Do you like instruments that require hand coordination or blowing/wind control?</label>
                <div class="options-list">
                    <input type="radio" id="i_q3_h" name="i_q3" value="hand" required><label for="i_q3_h">Hand Coordination (Strumming, keys)</label>
                    <input type="radio" id="i_q3_w" name="i_q3" value="wind"><label for="i_q3_w">Blowing/Wind Control (Breath)</label>
                </div>
            </div>

            <div class="question-group">
                <label>4. Do you enjoy singing along while playing?</label>
                <div class="options-list">
                    <input type="radio" id="i_q4_y" name="i_q4" value="yes" required><label for="i_q4_y">Yes, I love to sing while playing.</label>
                    <input type="radio" id="i_q4_n" name="i_q4" value="no"><label for="i_q4_n">No, I prefer focusing on the instrument.</label>
                </div>
            </div>

            <div class="question-group">
                <label>5. What kind of music moves you most?</label>
                <div class="options-list">
                    <input type="radio" id="i_q5_afro" name="i_q5" value="afrobeat" required><label for="i_q5_afro">Afrobeat / Pop</label>
                    <input type="radio" id="i_q5_jazz" name="i_q5" value="jazz"><label for="i_q5_jazz">Jazz / Blues</label>
                    <input type="radio" id="i_q5_worship" name="i_q5" value="worship_ccm"><label for="i_q5_worship">Worship / CCM</label>
                    <input type="radio" id="i_q5_class" name="i_q5" value="classical"><label for="i_q5_class">Classical / Orchestra</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">Find My Instrument Match! 🎸</button>
        </form>

        <div id="instrument-result" class="result-container">
            </div>
    </div>

    <div id="beginner" class="tab-content">
        <form class="quiz-form" id="beginner-quiz">
            <h4>🧠 Beginner’s Discovery Quiz: Where Should I Start?</h4>

            <div class="question-group">
                <label>1. Do you love singing along to songs or focusing on the background sounds?</label>
                <div class="options-list">
                    <input type="radio" id="b_q1_s" name="b_q1" value="sing" required><label for="b_q1_s">Singing along (The voice)</label>
                    <input type="radio" id="b_q1_i" name="b_q1" value="instrument"><label for="b_q1_i">Background sounds (The instrumentals)</label>
                </div>
            </div>

            <div class="question-group">
                <label>2. Do you prefer performing in front of people or staying behind the scenes?</label>
                <div class="options-list">
                    <input type="radio" id="b_q2_f" name="b_q2" value="front" required><label for="b_q2_f">In front (Performer)</label>
                    <input type="radio" id="b_q2_b" name="b_q2" value="back"><label for="b_q2_b">Behind the scenes (Arranger/Support)</label>
                </div>
            </div>

            <div class="question-group">
                <label>3. Can you easily identify musical notes or rhythms by ear?</label>
                <div class="options-list">
                    <input type="radio" id="b_q3_note" name="b_q3" value="note" required><label for="b_q3_note">Notes/Melodies</label>
                    <input type="radio" id="b_q3_rhy" name="b_q3" value="rhythm"><label for="b_q3_rhy">Rhythms/Beats</label>
                    <input type="radio" id="b_q3_none" name="b_q3" value="none"><label for="b_q3_none">Neither, but willing to learn</label>
                </div>
            </div>

            <div class="question-group">
                <label>4. What do you already have access to?</label>
                <div class="options-list">
                    <input type="radio" id="b_q4_voice" name="b_q4" value="voice" required><label for="b_q4_voice">Voice only</label>
                    <input type="radio" id="b_q4_guitar" name="b_q4" value="guitar"><label for="b_q4_guitar">Guitar or string instrument</label>
                    <input type="radio" id="b_q4_keyboard" name="b_q4" value="keyboard"><label for="b_q4_keyboard">Keyboard or Piano</label>
                    <input type="radio" id="b_q4_none" name="b_q4" value="none"><label for="b_q4_none">None yet</label>
                </div>
            </div>

            <div class="question-group">
                <label>5. What do you want to do first?</label>
                <div class="options-list">
                    <input type="radio" id="b_q5_learn" name="b_q5" value="learn" required><label for="b_q5_learn">Learn the basics</label>
                    <input type="radio" id="b_q5_perform" name="b_q5" value="perform"><label for="b_q5_perform">Perform for others</label>
                    <input type="radio" id="b_q5_produce" name="b_q5" value="produce"><label for="b_q5_produce">Produce/Compose music</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">Get My Starter Plan! 🎶</button>
        </form>

        <div id="beginner-result" class="result-container">
            </div>

        <div class="ad-space ad-small">
            [ AD SPACE 3: Small Ad for Music Theory Basics Course ]
        </div>
    </div>

    <div id="training" class="tab-content">
        <div class="section-box">
            <h4>4️⃣ Training Hub: Free & Guided Learning Materials</h4>
            <p>This is your library for self-study and skill refinement. Leverage these free resources curated by the OKV team!</p>
            <ul>
                <li><strong>🎓 Free Video Tutorials:</strong> Curated playlists for Vocal Warm-ups, Piano Scales, Beginner Guitar Chords, and Drum Rudiments.</li>
                <li><strong>📚 Articles & Theory:</strong> In-depth reads on music theory basics, ear training techniques, managing stage fright, and instrument maintenance.</li>
                <li><strong>💬 Tips from OKV Mentors:</strong> Monthly interviews and written advice from seasoned professional musicians and producers.</li>
                <li><strong>🎧 Practice Tracks:</strong> Downloadable metronome tracks and backing tracks for various instruments and keys.</li>
            </ul>
            <p>Access the full library after taking any of the discovery quizzes!</p>
        </div>
        <div class="ad-space ad-large">
            [ AD SPACE 4: Featured Ad for OKV Premium Academy Course ]
        </div>
    </div>

    <div id="growth" class="tab-content">
        <div class="section-box">
            <h4>5️⃣ Growth & Mentorship: Your Personalized Music Journey</h4>
            <p>The OKV Growth Path is designed to take you from a curious beginner to a confident musician, providing clear milestones at every stage.</p>

            <p style="font-size: 1.2em; font-weight: 600; text-align: center; margin: 20px 0; color: var(--color-accent);">
                Discover → Train → Practice → Perform → Record → Monetize
            </p>

            <p><strong>Mentorship Features:</strong></p>
            <ul>
                <li><strong>Personalized Coaching:</strong> One-on-one sessions (paid tier) focusing on your specific quiz results and career goals.</li>
                <li><strong>Portfolio Building:</strong> Guidance on recording your first demo, creating a professional music profile, and live performance planning.</li>
                <li><strong>Monetization Workshop:</strong> Courses on licensing, managing royalties, social media marketing for musicians, and booking gigs.</li>
                <li><strong>Peer-to-Peer Feedback:</strong> Dedicated community channels to get constructive critique from fellow musicians.</li>
            </ul>
        </div>
        <div class="section-box">
            <h4>💡 Extra Features Overview</h4>
            <table>
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Function</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>📄 Download Result (PDF)</td>
                        <td>Each quiz result downloadable for offline reference.</td>
                    </tr>
                    <tr>
                        <td>🌐 Join OKV Sound Community</td>
                        <td>Direct link to the specialized OKV music community (WhatsApp/Telegram/Discord).</td>
                    </tr>
                    <tr>
                        <td>🎧 Listen & Practice</td>
                        <td>Embedded sample tracks or vocal warmups relevant to the result.</td>
                    </tr>
                    <tr>
                        <td>🧠 Retake Quiz</td>
                        <td>Allows users to explore new vocal ranges or instruments.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>

<script>
    // --- UTILITY FUNCTIONS ---

    /**
     * Finds the checked value for a given radio button group name.
     */
    function getRadioValue(name) {
        const radios = document.getElementsByName(name);
        for (const radio of radios) {
            if (radio.checked) {
                return radio.value;
            }
        }
        return null;
    }

    /**
     * Resets the quiz form and hides the result container.
     */
    function resetQuiz(formId, resultId) {
        const form = document.getElementById(formId);
        const resultContainer = document.getElementById(resultId);

        if (form) form.reset();
        if (resultContainer) {
            resultContainer.innerHTML = '';
            resultContainer.style.display = 'none';
        }
    }


    // --- QUIZ LOGIC FUNCTIONS ---

    /**
     * Determines the Vocal Finder result based on user answers.
     */
    function calculateVocalResult(answers) {
        const { v_q1, v_q2, v_q3, v_q4, v_q5 } = answers;

        let part = 'Unclassified';
        let range = 'Unknown';
        let focus = 'General technique (Vowel/Consonant clarity)';
        let tip = 'Start with gentle humming to find your comfortable pitch and practice breathing exercises.';
        let learning = 'Search: "Best Vocal Warmups for Beginners - YouTube"';
        let tools = 'Pitch App, Voice Recorder';
        let nextStep = 'Join OKV Vocal Assessment for personalized range mapping.';

        // 1. Determine Vocal Part & Range
        if (v_q1 === 'male') {
            if (v_q2 === 'high') { part = 'Tenor'; range = 'High male voice (C3 - C5)'; }
            else if (v_q2 === 'medium') { part = 'Baritone'; range = 'Medium/Balanced male voice (A2 - G4)'; }
            else if (v_q2 === 'low') { part = 'Bass'; range = 'Deep/Low male voice (E2 - E4)'; }
        } else if (v_q1 === 'female') {
            if (v_q2 === 'high') { part = 'Soprano'; range = 'High female voice (C4 - C6)'; }
            else if (v_q2 === 'medium') { part = 'Mezzo-Soprano'; range = 'Medium female voice (A3 - A5)'; }
            else if (v_q2 === 'low') { part = 'Alto'; range = 'Medium–Low female voice (G3 - F5)'; }
        }

        // 2. Determine Style Fit
        const styleFitMap = {
            worship: "Gospel, Soul, CCM, Hymns",
            pop: "Pop, Afrobeats, Contemporary R&B",
            classical: "Choir, Opera, Classical Art Songs",
            soul: "R&B, Jazz, Neo-Soul, Blues"
        };
        const styleFit = styleFitMap[v_q3] || 'Varied styles (Pop/Rock)';

        // 3. Refine Focus, Tip, and Next Step based on weaknesses (Q4) and goals (Q5)
        
        // Update Focus/Tip based on Q4 (Sustained Notes/Control)
        if (v_q4 === 'not_sure' || v_q4 === 'a_bit') {
            focus = 'Breathing Control & Stamina';
            tip = 'Practice deep diaphragm breathing exercises daily. Try holding a single comfortable note for 10-15 seconds.';
        } else if (v_q5 === 'group') {
             focus = 'Pitch Accuracy & Harmony Practice';
             tip = 'Use apps to practice matching and blending with two- or three-part harmonies. Ear training is key!';
        }
        
        // Further refine based on Q3 (Style)
        if (v_q3 === 'classical') {
            focus = 'Vowel Shaping & Resonance Placement';
            learning = 'Search: "Classical Vocal Technique for Beginners - YouTube"';
        } else if (v_q3 === 'soul') {
            focus = 'Vocal Runs, Phrasing, & Emotional Delivery';
            learning = 'Search: "Soul/R&B Vocal Ad-libs Tutorial - YouTube"';
        } else if (v_q3 === 'worship') {
            focus = 'Sustained Power & Blend (Choir)';
        }

        // 4. Update Next Step & Learning based on Part
        if (part !== 'Unclassified') {
            learning = `Search: "Vocal Warm-Ups for ${part}s – YouTube"`;
            nextStep = `Join OKV Vocal Class (Group ${part} Training)`;
        }


        return {
            part,
            range,
            styleFit,
            focus,
            tip,
            learning,
            tools,
            nextStep
        };
    }

    /**
     * Determines the Instrument Finder result based on user answers.
     */
    function calculateInstrumentResult(answers) {
        const { i_q1, i_q2, i_q3, i_q4, i_q5 } = answers;

        let instrument = 'Music Basics';
        let perfectFor = 'Exploring all options';
        let starterTools = 'Metronome & Piano Note App';
        let careerPath = 'Music Enthusiast';
        let nextStep = 'Try an introductory music app to explore different sounds.';
        let learning = 'Search: "Music Theory Basics for Beginners - YouTube"';

        // 1. Core Instrument Mapping
        if (i_q1 === 'rhythm' && i_q3 === 'hand') {
            instrument = 'Drums / Percussion 🥁';
            perfectFor = 'Rhythm foundation, high-energy individuals, studio support';
            careerPath = 'Session Drummer / Band Rhythm Section';
        } else if ((i_q1 === 'melody' || i_q1 === 'harmony') && i_q3 === 'hand') {
            if (i_q2 === 'leading' && i_q4 === 'yes') {
                instrument = 'Acoustic Guitar 🎸';
                perfectFor = 'Singer-songwriters, intimate performance, accompaniment';
            } else {
                instrument = 'Keyboard (Piano) 🎹';
                perfectFor = 'Harmony/Chord foundation, composers, music directors';
            }
        } else if (i_q3 === 'wind') {
            instrument = 'Saxophone / Trumpet 🎷';
            perfectFor = 'Melodic soloists, Jazz/Classical ensemble, strong breath control';
            careerPath = 'Jazz/Orchestra Musician / Session Brass Player';
        }

        // 2. Refine Next Step & Tools
        if (instrument.includes('Drums')) {
            starterTools = 'Drum pad, practice sticks, metronome';
            nextStep = 'Master basic timing and coordination drills (single stroke rolls).';
            learning = 'Search: "Drum Rudiments for Beginners - YouTube"';
        } else if (instrument.includes('Keyboard')) {
            starterTools = 'MIDI keyboard or mobile piano app';
            nextStep = 'Learn C Major scale and the I-IV-V chords (C, F, G).';
            learning = 'Search: "Piano Chords for Beginners - YouTube"';
        } else if (instrument.includes('Guitar')) {
            starterTools = 'Affordable Acoustic Guitar, Tuner App';
            nextStep = 'Master the basic "Cowboy Chords" (G, C, D, Em).';
            learning = 'Search: "Guitar Basics for Absolute Beginners - YouTube"';
        } else if (instrument.includes('Saxophone')) {
            starterTools = 'Starter rental instrument, mouthpiece, tuner';
            nextStep = 'Focus on embouchure and long tones for the first month.';
            learning = 'Search: "Saxophone Embouchure and Basic Notes - YouTube"';
        }
        
        // 3. Refine Career Path based on Style (Q5)
        if (i_q5 === 'classical' && instrument.includes('Keyboard')) {
            careerPath = 'Classical Pianist / Accompanist';
        } else if (i_q5 === 'afrobeat' && instrument.includes('Drums')) {
             careerPath = 'Afrobeats Rhythm Expert / Studio Session Player';
        }


        return {
            instrument,
            perfectFor,
            starterTools,
            careerPath,
            nextStep,
            learning
        };
    }

    /**
     * Determines the Beginner's Discovery result based on user answers.
     */
    function calculateBeginnerResult(answers) {
        const { b_q1, b_q2, b_q3, b_q4, b_q5 } = answers;

        let startPoint = 'General Music Exploration';
        let why = 'You have a mixed interest in music. Let’s find your dominant talent.';
        let startWith = 'Basic ear training and rhythm exercises.';
        let growthPath = 'Explore both vocal and instrument paths for a few months, focusing on basic theory.';
        let tools = 'Metronome app, piano note app';
        let learning = 'Search: "Music Theory Basics for Beginners - YouTube"';

        if (b_q1 === 'sing') {
            // User prefers singing
            startPoint = 'Singing (Vocal Path)';
            why = 'You enjoy melody and the connection of the human voice. Your natural instrument is ready!';
            startWith = 'Breathing and scale exercises to establish vocal support.';
            tools = 'Metronome app, voice recorder, piano note app';
            learning = 'Search: "Vocal Warm-up for Beginners – YouTube"';

            if (b_q2 === 'front' && b_q5 === 'perform') {
                growthPath = 'Sing in a choir → Join an ensemble → Develop solo repertoire for performance.';
            } else {
                growthPath = 'Master vocal control → Learn basic harmony → Consider Keyboard/Guitar for accompaniment.';
            }

        } else if (b_q1 === 'instrument') {
            // User prefers instrumentals
            if (b_q3 === 'rhythm' || b_q4 === 'none') {
                 // Strong rhythm focus or need for low-cost start (rhythm can be cheap)
                startPoint = 'Instrument (Rhythm Focus: Drums/Percussion)';
                why = 'You have a great sense of rhythm and energy, which is vital for music foundation.';
                startWith = 'Basic timing & coordination drills (tap along to a metronome).';
                tools = 'Drum pad app, sticks, metronome';
                learning = 'Search: "Drum Basics for Beginners – YouTube"';
                growthPath = 'Master timing → Learn different grooves → Apply rhythm skills to any instrument later.';

            } else if (b_q3 === 'note' || b_q2 === 'back') {
                // Note focus or prefer behind-the-scenes control
                let suggestedInstrument = (b_q4 === 'guitar') ? 'Guitar' : 'Keyboard';
                startPoint = `Instrument (Melody/Harmony Focus: ${suggestedInstrument})`;
                why = 'You appreciate harmony, composition, and a supportive/controlling role in music arrangement.';
                startWith = `Learning the musical alphabet (A-G) and simple major/minor chords on the ${suggestedInstrument}.`;
                tools = `${suggestedInstrument} app or affordable starter instrument.`;
                learning = `Search: "First 3 Chords on ${suggestedInstrument} - YouTube"`;
                growthPath = 'Master chords/scales → Start composing simple songs → Explore music production/directing.';
            }
        }
        
        // Final adjustment if they want to produce/compose first
        if (b_q5 === 'produce' || b_q5 === 'compose') {
             startWith = 'Digital Audio Workstation (DAW) basics and MIDI arrangement.';
             growthPath = 'Learn music theory/composition → Practice arrangement in DAW → Record and produce own songs.';
             learning = 'Search: "Introduction to Music Production DAW - YouTube"';
        }


        return {
            startPoint,
            why,
            startWith,
            tools,
            learning,
            growthPath
        };
    }

    // --- RENDERING FUNCTIONS (Same as before) ---

    function renderVocalResult(data) {
        const resultHTML = `
            <h4>✅ Your Vocal Part: ${data.part}</h4>
            <div class="result-detail"><strong>Range:</strong> ${data.range}</div>
            <div class="result-detail"><strong>Style Fit:</strong> ${data.styleFit}</div>
            <div class="result-detail"><strong>Tools:</strong> ${data.tools}</div>
            <div class="result-tip">
                <strong>Focus on:</strong> ${data.focus}
                <br>💡 <strong>Training Tip:</strong> ${data.tip}
            </div>
            <div class="result-learning">
                <strong>🎓 Recommended Learning:</strong> ${data.learning}
            </div>
            <div class="result-detail" style="margin-top: 20px;">
                <strong>📈 Next Step:</strong> ${data.nextStep}
            </div>
            <div class="result-buttons">
                <button class="result-btn btn-download" onclick="alert('PDF Report for ${data.part} is being generated!')">📄 Download Vocal Report 📥</button>
                <button class="result-btn btn-community" onclick="alert('Linking to OKV ${data.part} Vocal Group!')">🌐 Join OKV Sound Group 🎤</button>
                <button class="result-btn btn-retake" onclick="resetQuiz('vocal-quiz', 'vocal-result'); document.getElementById('vocal-quiz').scrollIntoView({ behavior: 'smooth' });">🧠 Retake Quiz</button>
            </div>
        `;
        document.getElementById('vocal-result').innerHTML = resultHTML;
        document.getElementById('vocal-result').style.display = 'block';
        document.getElementById('vocal-result').scrollIntoView({ behavior: 'smooth' });
    }

    function renderInstrumentResult(data) {
        const resultHTML = `
            <h4>✅ Recommended Instrument: ${data.instrument}</h4>
            <div class="result-detail"><strong>Perfect for:</strong> ${data.perfectFor}</div>
            <div class="result-detail"><strong>Starter Tools:</strong> ${data.starterTools}</div>
            <div class="result-detail"><strong>🎓 Career Path:</strong> ${data.careerPath}</div>
            <div class="result-tip">
                💡 <strong>Next Step:</strong> ${data.nextStep}
            </div>
            <div class="result-learning">
                <strong>Learn From:</strong> ${data.learning}
            </div>
            <div class="result-buttons">
                <button class="result-btn btn-download" onclick="alert('PDF Report for ${data.instrument} is being generated!')">📄 Download Instrument Report 📥</button>
                <button class="result-btn btn-community" onclick="alert('Linking to OKV Instrumentalist Hub!')">🌐 Join Instrumentalist Hub 🎸</button>
                <button class="result-btn btn-retake" onclick="resetQuiz('instrument-quiz', 'instrument-result'); document.getElementById('instrument-quiz').scrollIntoView({ behavior: 'smooth' });">🧠 Retake Quiz</button>
            </div>
        `;
        document.getElementById('instrument-result').innerHTML = resultHTML;
        document.getElementById('instrument-result').style.display = 'block';
        document.getElementById('instrument-result').scrollIntoView({ behavior: 'smooth' });
    }

    function renderBeginnerResult(data) {
        const resultHTML = `
            <h4>✅ Recommended Starting Point: ${data.startPoint}</h4>
            <div class="result-detail"><strong>Why:</strong> ${data.why}</div>
            <div class="result-detail"><strong>Start with:</strong> ${data.startWith}</div>
            <div class="result-detail"><strong>Tools:</strong> ${data.tools}</div>
            <div class="result-tip">
                <strong>Learn From:</strong> ${data.learning}
            </div>
            <div class="result-detail" style="margin-top: 20px;">
                <strong>Growth Path:</strong> ${data.growthPath}
            </div>
            <div class="result-buttons">
                <button class="result-btn btn-download" onclick="alert('PDF Music Starter Plan is being generated!')">📄 Download My Music Starter Plan 📥</button>
                <button class="result-btn btn-community" onclick="alert('Linking to OKV Beginners’ Corner!')">🌐 Join Beginners’ Corner 🎶</button>
                <button class="result-btn btn-retake" onclick="resetQuiz('beginner-quiz', 'beginner-result'); document.getElementById('beginner-quiz').scrollIntoView({ behavior: 'smooth' });">🧠 Retake Quiz</button>
            </div>
        `;
        document.getElementById('beginner-result').innerHTML = resultHTML;
        document.getElementById('beginner-result').style.display = 'block';
        document.getElementById('beginner-result').scrollIntoView({ behavior: 'smooth' });
    }


    // --- EVENT LISTENERS (Same as before) ---

    document.addEventListener('DOMContentLoaded', () => {
        // --- 1. Tab Switching Logic ---
        const tabButtons = document.querySelectorAll('.tabs-nav .tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetTabId = button.getAttribute('data-tab');

                // Deactivate all
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                // Activate selected
                button.classList.add('active');
                document.getElementById(targetTabId).classList.add('active');
            });
        });


        // --- 2. Vocal Quiz Submission ---
        document.getElementById('vocal-quiz').addEventListener('submit', function(e) {
            e.preventDefault();

            const answers = {
                v_q1: getRadioValue('v_q1'),
                v_q2: getRadioValue('v_q2'),
                v_q3: getRadioValue('v_q3'),
                v_q4: getRadioValue('v_q4'),
                v_q5: getRadioValue('v_q5')
            };

            if (Object.values(answers).includes(null)) {
                alert('Please answer all questions before submitting the Vocal Quiz!');
                return;
            }

            const resultData = calculateVocalResult(answers);
            renderVocalResult(resultData);
        });

        // --- 3. Instrument Quiz Submission ---
        document.getElementById('instrument-quiz').addEventListener('submit', function(e) {
            e.preventDefault();

            const answers = {
                i_q1: getRadioValue('i_q1'),
                i_q2: getRadioValue('i_q2'),
                i_q3: getRadioValue('i_q3'),
                i_q4: getRadioValue('i_q4'),
                i_q5: getRadioValue('i_q5')
            };

            if (Object.values(answers).includes(null)) {
                alert('Please answer all questions before submitting the Instrument Quiz!');
                return;
            }

            const resultData = calculateInstrumentResult(answers);
            renderInstrumentResult(resultData);
        });

        // --- 4. Beginner Quiz Submission ---
        document.getElementById('beginner-quiz').addEventListener('submit', function(e) {
            e.preventDefault();

            const answers = {
                b_q1: getRadioValue('b_q1'),
                b_q2: getRadioValue('b_q2'),
                b_q3: getRadioValue('b_q3'),
                b_q4: getRadioValue('b_q4'),
                b_q5: getRadioValue('b_q5')
            };

            if (Object.values(answers).includes(null)) {
                alert('Please answer all questions before submitting the Beginner Quiz!');
                return;
            }

            const resultData = calculateBeginnerResult(answers);
            renderBeginnerResult(resultData);
        });
    });
</script>

</body>
</html>
